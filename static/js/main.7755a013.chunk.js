(this["webpackJsonpreact-zustand-form"]=this["webpackJsonpreact-zustand-form"]||[]).push([[0],{181:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(66),l=n.n(i),c=n(18),s=c.a({firstName:c.b().max(15,"Must be 15 characters or less").required("Required"),lastName:c.b().max(20,"Must be 20 characters or less").required("Required"),email:c.b().email("Invalid email address").required("Required")}),u=n(75),d=n(73),o=n.n(d),j=n(74),b=n(72),m=n(19),v=o()(Object(j.combine)({valuesMap:{},validationMap:{},schema:{}},(function(e){return{set:e}}))),f={useStore:v,useFormValues:function(e){return v((function(t){return t.valuesMap[e]}),(function(e,t){return Object(b.isEqual)(e,t)}))},useFormValidation:function(e){return v((function(t){return t.validationMap[e]}))},getInitValues:function(e){return v.getState().valuesMap[e]},getSchema:function(){return v.getState().schema},useAllFormKeys:function(){return v((function(e){return Object.keys(e.validationMap)}),(function(e,t){return e.length===t.length}))},addBlankForm:function(){var e=Object(m.d)({dictionaries:[m.a,m.c,m.b],length:2}),t=v.getState();t.validationMap[e]=!1,t.valuesMap[e]={firstName:"",lastName:"",email:""},v.setState({validationMap:t.validationMap,valuesMap:t.valuesMap})},updateGlobalState:function(e,t){var n=v.getState();n.schema.isValid(e).then((function(a){n.valuesMap[t]=e,n.validationMap[t]=a,v.setState({validationMap:n.validationMap,valuesMap:n.valuesMap})}))}},h=n(1),x=function(e){var t=e.formKey,n=r.a.useRef(f.getInitValues(t)).current,a=r.a.useRef(f.getSchema()).current,i=Object(u.a)({initialValues:n,validationSchema:a,onSubmit:function(e){},validate:function(e){return f.updateGlobalState(e,t)},validateOnChange:!0});r.a.useEffect((function(){i.validateForm()}),[]);var l=Object.keys(null!==n&&void 0!==n?n:{});return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{textAlign:"center"},children:t}),Object(h.jsx)("form",{children:l.map((function(e){return t=e,Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:75,marginTop:20},children:[Object(h.jsx)("label",{htmlFor:t,children:t}),Object(h.jsx)("input",{id:t,name:t,type:"text",onChange:i.handleChange,onBlur:i.handleBlur,value:i.values[t]}),i.errors[t]&&Object(h.jsx)("div",{style:{color:"red"},children:"Error: "+i.errors[t]})]},t);var t}))})]})},O=function(e){var t=e.children;return Object(h.jsx)("div",{style:{display:"flex",flexDirection:"column",border:"1px solid black",borderRadius:10,padding:10,margin:10},children:t})},p=function(e){var t=e.formKey,n=f.useFormValidation(t);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{textAlign:"center"},children:t+" sub validation equality"}),Object(h.jsx)("div",{children:"isValid: "+n}),Object(h.jsx)("div",{children:"renderedAt: "+(new Date).toISOString()})]})},g=function(e){var t=e.formKey,n=f.useFormValues(t),a=JSON.stringify(n);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{textAlign:"center"},children:t+" sub deep values equality"}),Object(h.jsx)("div",{children:"values: "+a}),Object(h.jsx)("div",{children:"renderedAt: "+(new Date).toISOString()})]})},y=function(){var e=f.useAllFormKeys();return r.a.useEffect((function(){f.useStore.setState({schema:s})}),[]),Object(h.jsx)(O,{children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{textAlign:"center"},children:"sub all forms length equality"}),Object(h.jsx)("button",{onClick:f.addBlankForm,children:"Add blank form"}),e.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{children:Object(h.jsx)(x,{formKey:e})}),Object(h.jsx)(O,{children:Object(h.jsx)(g,{formKey:e})}),Object(h.jsx)(O,{children:Object(h.jsx)(p,{formKey:e})})]},e)}))]})})};l.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.7755a013.chunk.js.map